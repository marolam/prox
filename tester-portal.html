<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Prox Tester Portal</title>
    <meta
      name="description"
      content="Prox tester portal – download builds, upload screenshots, and send feedback."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- HEADER -->
    <header>
      <div class="nav-inner">
        <div class="nav-bar">
          <div class="nav-left">
            <a href="index.html" class="nav-logo-link">
              <!-- Update the src path/filename to match your actual logo -->
              <img
                src="img/prox-logo.svg"
                alt="Prox logo"
                class="nav-logo-image"
              />
            </a>
          </div>
          <div class="nav-right">
            <nav class="nav-links">
              <a href="index.html">Home</a>
              <a href="users.html">For Users</a>
              <a href="testers.html">Testers</a>
              <a href="tester-portal.html" class="active">Tester Portal</a>
              <a href="marketing.html">Marketing</a>
              <a href="support.html">Support</a>
              <a href="contact.html">Contact</a>
            </nav>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="main-inner">
        <!-- PASSWORD GATE -->
        <section class="section" id="tester-gate">
          <div class="section-narrow">
            <div class="section-eyebrow">Tester access</div>
            <h1 class="section-title">Enter tester password.</h1>
            <p class="section-text">
              This area is reserved for approved Prox testers. Use the shared
              tester password Marty gave you. If it doesn’t work, ask for the
              latest one.
            </p>

            <div class="card" style="margin-top: 1.2rem;">
              <div class="form-field">
                <label for="gate-password">Tester password</label>
                <input
                  id="gate-password"
                  type="password"
                  placeholder="Enter tester password"
                />
              </div>
              <button
                class="btn btn-primary"
                type="button"
                onclick="unlockTesterPortal()"
              >
                Unlock portal
              </button>
              <div
                id="gate-status"
                class="muted"
                style="margin-top: 0.6rem; font-size: 0.85rem;"
              ></div>
            </div>

            <noscript>
              <p class="section-text" style="margin-top: 1rem; color: #b91c1c;">
                JavaScript is required to access the tester portal. Please
                enable JavaScript in your browser.
              </p>
            </noscript>
          </div>
        </section>

        <!-- PORTAL CONTENT (hidden until password is correct) -->
        <div id="tester-portal-content" style="display: none;">
          <!-- HERO / INTRO -->
          <section class="section">
            <div class="section-eyebrow">Tester portal</div>
            <h1 class="section-title">Your Prox testing workspace.</h1>
            <p class="section-text">
              Use this page to get the latest build, upload screenshots or
              videos, and send in reports, bugs, suggestions, and testimonials.
            </p>
          </section>

          <!-- DOWNLOAD + DOCS -->
          <section class="section section-alt">
            <div class="grid-2">
              <div>
                <h2 class="section-title">Download & docs.</h2>
                <p class="section-text">
                  Always start here. Install the latest tester build and review
                  any notes before you dive in.
                </p>
                <div style="margin-top: 0.9rem;">
                  <p style="margin: 0.2rem 0;">
                    <a
                      href="https://github.com/marolam/prox/releases/download/v1.4/app-release.apk"
                      class="btn btn-primary"
                      download
                    >
                      Download latest Android APK
                    </a>
                  </p>
                  <p style="margin: 0.4rem 0 0;">
                    <!-- TODO: replace with real docs link when ready -->
                    <a
                      href="#"
                      class="btn btn-outline"
                    >
                      Open release notes & docs (coming soon)
                    </a>
                  </p>
                </div>
                <p class="muted" style="font-size: 0.82rem; margin-top: 0.8rem;">
                  Update the APK link above whenever you publish a new build.
                </p>
              </div>

              <div>
                <div class="card-soft">
                  <strong style="font-size: 0.9rem;">Quick checklist</strong>
                  <ul class="check-list">
                    <li>Install the latest build over any older tester build.</li>
                    <li>Glance at the notes for what’s new or in focus.</li>
                    <li>
                      Pick one area to explore per session (meetups, chat, map,
                      trust, etc.).
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- UPLOADS -->
          <section class="section">
            <div class="grid-2">
              <div>
                <h2 class="section-title">Upload screenshots & files.</h2>
                <p class="section-text">
                  When you catch something, grab it. Screenshots, short screen
                  recordings, or logs are all useful. Drop them into the shared
                  upload area.
                </p>
                <!-- TODO: replace href with your Drive file request / folder -->
                <p style="margin-top: 0.9rem;">
                  <a
                    href="https://drive.google.com/drive/folders/YOUR_UPLOAD_FOLDER_ID"
                    target="_blank"
                    rel="noopener"
                    class="btn btn-outline"
                  >
                    Open upload folder
                  </a>
                </p>
                <p class="muted" style="font-size: 0.82rem; margin-top: 0.5rem;">
                  Tip: Include your name and date in filenames, e.g.
                  <code>marty-2025-12-04-meetup-bug.png</code>.
                </p>
              </div>

              <div>
                <div class="card-soft">
                  <strong style="font-size: 0.9rem;">Useful uploads</strong>
                  <ul class="check-list">
                    <li>Bug visuals – crashes, glitches, broken layouts.</li>
                    <li>Map / meetup mismatches – wrong locations or distances.</li>
                    <li>Weird flows – places where you got stuck or confused.</li>
                    <li>Happy moments – when something felt especially smooth.</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- FEEDBACK FORM -->
          <section class="section section-alt">
            <h2 class="section-title">Send a report, bug, or testimonial.</h2>
            <p class="section-text">
              Use this form for anything you want to share: bugs, suggestions,
              general reports, or positive stories. It all goes straight into
              the same pipeline.
            </p>

            <div class="section-narrow" style="margin-top: 1.3rem;">
              <div class="card">
                <form
                  action="https://script.google.com/macros/s/AKfycby1msi0HCL9ETusO7Xl-SlLav4O4UIK6kcGNcdjCx1dykcvO-53qolegLP5a84ATxwvzg/exec"
                  method="POST"
                  onsubmit="handleTesterFeedbackSubmit()"
                >
                  <input
                    type="hidden"
                    name="formType"
                    value="tester-feedback"
                  />

                  <div class="form-field">
                    <label for="tf-name">Name</label>
                    <input id="tf-name" name="name" type="text" required />
                  </div>

                  <div class="form-field">
                    <label for="tf-email">Email</label>
                    <input id="tf-email" name="email" type="email" required />
                  </div>

                  <div class="form-field">
                    <label for="tf-type">Type of feedback</label>
                    <select id="tf-type" name="category">
                      <option value="bug">Bug</option>
                      <option value="suggestion">Suggestion</option>
                      <option value="testimonial">Testimonial</option>
                      <option value="general">General report</option>
                    </select>
                  </div>

                  <div class="form-field">
                    <label for="tf-build">Build version</label>
                    <input
                      id="tf-build"
                      name="subject"
                      type="text"
                      placeholder="e.g. v1.0-android"
                    />
                  </div>

                  <div class="form-field">
                    <label for="tf-message">What happened / what’s your idea?</label>
                    <textarea
                      id="tf-message"
                      name="message"
                      placeholder="Bug: steps to reproduce, what you expected, what you saw. Suggestion/testimonial: just talk to us."
                    ></textarea>
                  </div>

                  <div class="form-field">
                    <label for="tf-device">Device & OS (optional)</label>
                    <input
                      id="tf-device"
                      name="deviceInfo"
                      type="text"
                      placeholder="e.g. Pixel 7, Android 14"
                    />
                  </div>

                  <button class="btn btn-primary" type="submit">
                    Submit feedback
                  </button>

                  <div
                    id="tester-feedback-status"
                    class="muted"
                    style="margin-top: 0.6rem; font-size: 0.85rem;"
                  ></div>
                </form>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="footer-inner">
        <div>© <span id="year"></span> Prox. All rights reserved.</div>
        <div class="muted">
          Bringing the human focus back to the technology world.
        </div>
      </div>
      <script>
        document.getElementById("year").textContent =
          new Date().getFullYear();

        // === SIMPLE FRONT-END PASSWORD GATE ===
        // Change this value whenever you want a new password.
        const TESTER_PORTAL_PASSWORD = "Welcome1";
        const STORAGE_KEY = "proxTesterPortalUnlocked";

        function unlockTesterPortal() {
          const input = document.getElementById("gate-password");
          const statusEl = document.getElementById("gate-status");
          if (!input) return;

          const value = (input.value || "").trim();

          if (!value) {
            if (statusEl) {
              statusEl.textContent = "Please enter the tester password.";
            }
            return;
          }

          if (value === TESTER_PORTAL_PASSWORD) {
            try {
              localStorage.setItem(STORAGE_KEY, "true");
            } catch (e) {}
            showPortal();
          } else {
            if (statusEl) {
              statusEl.textContent = "Incorrect password. Please try again.";
            }
          }
        }

        function showPortal() {
          const gate = document.getElementById("tester-gate");
          const portal = document.getElementById("tester-portal-content");
          if (gate) gate.style.display = "none";
          if (portal) portal.style.display = "block";
        }

        (function () {
          try {
            const unlocked = localStorage.getItem(STORAGE_KEY);
            if (unlocked === "true") {
              showPortal();
            }
          } catch (e) {}
        })();

        function handleTesterFeedbackSubmit() {
          const statusEl = document.getElementById("tester-feedback-status");
          if (statusEl) {
            statusEl.textContent =
              "Thank you! Your feedback has been sent to the team.";
          }
        }
      </script>
    </footer>
  </body>
</html>
